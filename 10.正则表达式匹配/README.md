# 1. 问题
给定一个字符串 s 和一个字符规律 p，请你来实现一个支持 '.' 和 '*' 的正则表达式匹配

```
'.' 匹配任意单个字符
'*' 匹配零个或多个前面的那一个元素
```

所谓匹配，是要涵盖 整个 字符串 s的，而不是部分字符串。<br>

**说明**<br>
* s 可能为空，且只包含从 a-z 的小写字母。
* p 可能为空，且只包含从 a-z 的小写字母，以及字符 . 和 *

**示例**
```
输入:
s = "aa"
p = "a"
输出: false
解释: "a" 无法匹配 "aa" 整个字符串。
```

```
输入:
s = "aa"
p = "a*"
输出: true
解释: 因为 '*' 代表可以匹配零个或多个前面的那一个元素, 在这里前面的元素就是 'a'。因此，字符串 "aa" 可被视为 'a' 重复了一次。
```

```
输入:
s = "mississippi"
p = "mis*is*p*."
输出: false
```
# 2.动态规划解决
### 状态
设`dp[i][j]`表示`s`的前`i`个字符能否被`p`的前`j`个字符匹配<br>
### 转移方程
转移方程就是根据小问题去解决更复杂的问题，一般我们从`dp[i-1][j-1]`来推导出`dp[i][j]`,复杂的问题都要分类讨论，此题我们也进行分类讨论<br>
<br>
**(1)`s[i]==p[j]`或者`p[j]=='.'`**<br>
此时就相当于下面的例子：
```
s="aabb"
p="cdb"
```
所以只需要看`dp[i-1][j-1]`的状态即可，即：`dp[i][j]=dp[i-1][j-1]`<br>
<br>

**(2)`p[j]=='*'`**<br>
注意`*`的作用，匹配零个或多个前面的那一个元素，即有如下作用
```
p=b*a可以匹配如下
s=a    # b*匹配零次b, 将*号前面的b消去
s=ba   # b*匹配一次b,
s=bbbba    # b*匹配多次b
```
根据*的匹配次数，状态转移方程如下：

```
匹配零次： dp[i][j]=dp[i][j-2]
匹配一次： dp[i][j]=dp[i-1][j-1]
匹配多次： dp[i][j]=dp[i-1][j]
```

**(2.1)匹配零次**<br>
匹配零次就是将*前面的字符去掉，当p[j-1]!=s[i]时，p就无法匹配s, 如下例子,此时i=1, j=3, 星号前面的字符是d, 因此只能匹配零次，将d去掉，接下来
才可能继续匹配成功
```
s= ab
p= abd*
```
综合起来就是当`p[j-1]!=s[i]`时， `dp[i][j]=dp[i][j-2]`<br>

**(2.2)匹配一次或多次**<br>
当`p[j-1]==s[i]`或者`p[j-1]=="."`时，我门可能需要匹配一次或者多次，也可能需要匹配零次，如下例子
```
1. 匹配零次
s=abb
p=abbb*
2.匹配1次
s=abb
p=ab*
3.匹配多次
s=abbbbb
p=ab*
```
这种条件下综合起来就是当`p[j-1]==s[i]`或者`p[j-1]=="."`时 `dp[i][j]=(dp[i][j-2] or dp[i-1][j-1] or dp[i-1][j])`<br>
<br>
**综上讨论状态转移方程如下**
```
if s[i]==p[j] or p[j]=='.':      dp[i][j]=dp[i-1][j-1]
elif p[j-1]==s[i] or p[j-1]==".":     dp[i][j]=(dp[i][j-2] or dp[i-1][j-1] or dp[i-1][j])
else:     dp[i][j]=dp[i][j-2]   
```

### 初始状态的设定
初始化dp矩阵所有元素都是False, dp[i][j]=False表示p的前j个字符不能匹配s的前i个字符；当然初始化的时候有部分元素是True的，下面将对部分元素重新初始化
 * 首先dp[0][0]=True, dp[0][0]表示两个都是空字符串， 两个空字符串能够匹配
 * 还有一个dp[0][j]有部分是True的，如`s=aab, p=a*`,dp[0][2]=True; dp[0][j]表示p中前j个字符能匹配空字符串；将这种特殊情况总结下就是
 ```
 for i in range(2, len(p)+1):
      if p[i-1]=="*":
          dp[0][i]=dp[0][i-2]
 ```
 
 # 注意事项
 dp矩阵大小为`len(s) x len(p)`, 循环遍历dp矩阵的索引不可直接用于s和p的索引， dp[0][0]表示前零个字符来匹配， 而s[0]或p[0]表示第一个字符， 因此dp
 矩阵中的索引比s和p中索引大一个单位
 
 # 参考
 [1]. [注释清晰的Python题解，提供一个dp的实现思路](https://leetcode-cn.com/problems/regular-expression-matching/solution/zhu-shi-qing-xi-de-pythonti-jie-ti-gong-yi-ge-dpde/)<br>
 [2]. [动态规划 - 从 0 讲解，大白话好理解](https://leetcode-cn.com/problems/regular-expression-matching/solution/dong-tai-gui-hua-zen-yao-cong-0kai-shi-si-kao-da-b/) 

